{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/diego/OneDrive/Escritorio/Nueva carpeta/RegistrApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/user/user.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction ForgotPasswordPage_ion_item_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\", 8);\n    i0.ɵɵtext(2, \"Formato erroneo de Email\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\nclass ForgotPasswordPage {\n  constructor(router, userService, alertController) {\n    this.router = router;\n    this.userService = userService;\n    this.alertController = alertController;\n    this.email = '';\n  }\n  isValidEmail(email) {\n    // validacion del correo electrónico\n    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n    return emailPattern.test(email);\n  }\n  //func reset password\n  resetPassword(email) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const user = _this.userService.getUserByEmail(email);\n      if (user) {\n        const alert = yield _this.alertController.create({\n          header: 'Usuario encontrado',\n          message: 'Se enviará un correo para restablecer la contraseña.',\n          buttons: ['OK']\n        });\n        yield alert.present();\n      } else {\n        // El usuario no existe\n        const alert = yield _this.alertController.create({\n          header: 'Usuario no encontrado',\n          message: 'El usuario no existe.',\n          buttons: ['OK']\n        });\n      }\n    })();\n  }\n  ngOnInit() {}\n}\n_class = ForgotPasswordPage;\n_class.ɵfac = function ForgotPasswordPage_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.AlertController));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-forgot-password\"]],\n  decls: 17,\n  vars: 6,\n  consts: [[3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"medium\"], [3, \"ngSubmit\"], [\"position\", \"floating\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [4, \"ngIf\"], [\"mat-raised-button\", \"\", \"type\", \"submit\", 3, \"disabled\", \"click\"], [\"color\", \"danger\", \"position\", \"stacked\"]],\n  template: function ForgotPasswordPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"ion-header\", 1)(2, \"ion-toolbar\")(3, \"ion-title\", 2);\n      i0.ɵɵtext(4, \"Restauracion de contrase\\u00F1a\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(5, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function ForgotPasswordPage_Template_form_ngSubmit_5_listener() {\n        return ctx.resetPassword(ctx.email);\n      });\n      i0.ɵɵelementStart(6, \"h2\");\n      i0.ɵɵtext(7, \"Olvidaste tu contrase\\u00F1a?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"p\");\n      i0.ɵɵtext(9, \"Ingresa tu direcci\\u00F3n de correo electr\\u00F3nico y te enviaremos instrucciones para restablecer tu contrase\\u00F1a.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"ion-item\")(11, \"ion-label\", 4);\n      i0.ɵɵtext(12, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"ion-input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ForgotPasswordPage_Template_ion_input_ngModelChange_13_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(14, ForgotPasswordPage_ion_item_14_Template, 3, 0, \"ion-item\", 6);\n      i0.ɵɵelementStart(15, \"ion-button\", 7);\n      i0.ɵɵlistener(\"click\", function ForgotPasswordPage_Template_ion_button_click_15_listener() {\n        return ctx.resetPassword(ctx.email);\n      });\n      i0.ɵɵtext(16, \"Reestablecer contrase\\u00F1a\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"fullscreen\", true);\n      i0.ɵɵadvance(13);\n      i0.ɵɵproperty(\"ngModel\", ctx.email)(\"ngModelOptions\", i0.ɵɵpureFunction0(5, _c0));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.email && !ctx.isValidEmail(ctx.email));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.isValidEmail(ctx.email));\n    }\n  },\n  dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.NgModel, i5.NgForm, i3.IonButton, i3.IonContent, i3.IonHeader, i3.IonInput, i3.IonItem, i3.IonLabel, i3.IonTitle, i3.IonToolbar, i3.TextValueAccessor],\n  styles: [\"a[_ngcontent-%COMP%] {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG9tZS9mb3Jnb3QvZm9yZ290LXBhc3N3b3JkLnBhZ2Uuc2NzcyIsIndlYnBhY2s6Ly8uLy4uLy4uL051ZXZhJTIwY2FycGV0YS9SZWdpc3RyQXBwL3NyYy9hcHAvaG9tZS9mb3Jnb3QvZm9yZ290LXBhc3N3b3JkLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFlBQUE7QUNDSiIsInNvdXJjZXNDb250ZW50IjpbImF7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuICAiLCJhIHtcbiAgY29sb3I6IHdoaXRlO1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { ForgotPasswordPage };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ForgotPasswordPage","constructor","router","userService","alertController","email","isValidEmail","emailPattern","test","resetPassword","_this","_asyncToGenerator","user","getUserByEmail","alert","create","header","message","buttons","present","ngOnInit","ɵɵdirectiveInject","i1","Router","i2","UserService","i3","AlertController","selectors","decls","vars","consts","template","ForgotPasswordPage_Template","rf","ctx","ɵɵlistener","ForgotPasswordPage_Template_form_ngSubmit_5_listener","ForgotPasswordPage_Template_ion_input_ngModelChange_13_listener","$event","ɵɵtemplate","ForgotPasswordPage_ion_item_14_Template","ForgotPasswordPage_Template_ion_button_click_15_listener","ɵɵproperty","ɵɵadvance","ɵɵpureFunction0","_c0"],"sources":["C:\\Users\\diego\\OneDrive\\Escritorio\\Nueva carpeta\\RegistrApp\\src\\app\\home\\forgot\\forgot-password.page.ts","C:\\Users\\diego\\OneDrive\\Escritorio\\Nueva carpeta\\RegistrApp\\src\\app\\home\\forgot\\forgot-password.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormControl, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { UserService } from 'src/app/user/user.service';\r\n\r\n@Component({\r\n  selector: 'app-forgot-password',\r\n  templateUrl: './forgot-password.page.html',\r\n  styleUrls: ['./forgot-password.page.scss'],\r\n})\r\nexport class ForgotPasswordPage implements OnInit {\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private userService: UserService,\r\n    private alertController: AlertController,\r\n  ) { }\r\n\r\n  email: string = ''; \r\n  isValidEmail(email: string): boolean {\r\n    // validacion del correo electrónico\r\n    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\r\n    return emailPattern.test(email);\r\n  }\r\n  //func reset password\r\n  async resetPassword(email: string) {\r\n    const user = this.userService.getUserByEmail(email);\r\n  \r\n    if (user) {\r\n      const alert = await this.alertController.create({\r\n        header: 'Usuario encontrado',\r\n        message: 'Se enviará un correo para restablecer la contraseña.',\r\n        buttons: ['OK']\r\n      });\r\n\r\n      await alert.present();\r\n    } else {\r\n      // El usuario no existe\r\n      const alert = await this.alertController.create({\r\n        header: 'Usuario no encontrado',\r\n        message: 'El usuario no existe.',\r\n        buttons: ['OK']\r\n      });\r\n    }\r\n  }\r\n  \r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<ion-content [fullscreen]=\"true\">\r\n  <ion-header collapse=\"condense\">\r\n    <ion-toolbar>\r\n      <ion-title size=\"medium\">Restauracion de contraseña</ion-title>\r\n    </ion-toolbar>\r\n  </ion-header>\r\n  <form (ngSubmit)=\"resetPassword(email)\">\r\n    <h2>Olvidaste tu contraseña?</h2>\r\n    <p>Ingresa tu dirección de correo electrónico y te enviaremos instrucciones para restablecer tu contraseña.</p>\r\n    \r\n    <ion-item>\r\n      <ion-label position=\"floating\">Email</ion-label>\r\n      <ion-input type=\"email\" id=\"email\" name=\"email\" [(ngModel)]=\"email\" [ngModelOptions]=\"{ standalone: true }\" required></ion-input>\r\n    </ion-item>\r\n    <ion-item *ngIf=\"email && !isValidEmail(email)\">\r\n      <ion-label color=\"danger\" position=\"stacked\">Formato erroneo de Email</ion-label>\r\n    </ion-item>\r\n\r\n    <ion-button mat-raised-button type=\"submit\" (click)=\"resetPassword(email)\" [disabled]=\"!isValidEmail(email)\">Reestablecer contraseña</ion-button>\r\n  \r\n  </form>\r\n\r\n</ion-content>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}